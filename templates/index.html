<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Simulación Planetaria</title>
    <link rel="stylesheet" href="../static/css/pagina.css" />
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  </head>
  <body>
    <h1>Simulación de órbitas</h1>

    <!-- Botón para desplegar el formulario -->
    <button class="toggle-button" onclick="toggleForm()">
      Agregar nuevo cuerpo
    </button>

    <!-- Formulario para agregar un nuevo cuerpo -->
    <div id="formulario">
      <!-- Botón para cerrar el formulario -->
      <button class="close-button" onclick="closeForm()">Cerrar</button>

      <form method="POST" class="grid-form">
        <div>
          <label for="nombre">Nombre:</label>
          <input type="text" name="nombre" required />
        </div>

        <div>
          <label for="a">Semi-eje mayor (a):</label>
          <input type="number" step="0.001" name="a" required />
        </div>

        <div>
          <label for="e">Excentricidad (e):</label>
          <input type="number" step="0.001" name="e" required />
        </div>

        <div>
          <label for="I">Inclinación (I):</label>
          <input type="number" step="0.001" name="I" required />
        </div>

        <div>
          <label for="L">Longitud media (L):</label>
          <input type="number" step="0.001" name="L" required />
        </div>

        <div>
          <label for="long_peri">Longitud del perihelio:</label>
          <input type="number" step="0.001" name="long_peri" required />
        </div>

        <div>
          <label for="long_node">Longitud del nodo ascendente:</label>
          <input type="number" step="0.001" name="long_node" required />
        </div>

        <button type="submit" class="form-button">Agregar</button>
      </form>
    </div>

    <!-- Aquí se inserta la figura de Plotly -->
    <div>{{ figura|safe }}</div>

    <!-- Script de animación para el formulario -->
    <script>
      function toggleForm() {
        var formulario = document.getElementById("formulario");
        formulario.classList.add("show");
      }

      function closeForm() {
        var formulario = document.getElementById("formulario");
        formulario.classList.remove("show");
      }
    </script>
  </body>
</html>
